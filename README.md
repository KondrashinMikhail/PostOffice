### `Кондрашин Михаил`

# Задание по Java EE

Необходимо реализовать REST API, который позволяет отслеживать почтовые отправления.
В системе должны регистрироваться почтовые отправления - письма, посылки - их передвижение между почтовыми отделениями, а также должна быть реализована возможность получения информации и всей истории передвижения конкретного почтового отправления.
Операции, которые должны быть реализованы:

    ● регистрация почтового отправления
  
    ● его прибытие в промежуточное почтовое отделение
  
    ● его убытие из почтового отделения
  
    ● его получение адресатом
  
    ● просмотр статуса и полной истории движения почтового отправления
  
Почтовое отправление определяется следующими свойствами:
  
    ● идентификатор
  
    ● тип (письмо, посылка, бандероль, открытка)
  
    ● индекс получателя
  
    ● адрес получателя
  
    ● имя получателя
  
Почтовое отделение характеризуется следующими свойствами:
  
    ● индекс
  
    ● название
  
    ● адрес

Сервис может быть реализован в виде JSON либо XML-сервиса - на выбор.

Сервис может быть реализован при помощи стека Java EE, либо при помощи Spring.

Может использоваться любая СУБД для хранения данных.

Работа с данными должна происходить посредством ORM, может использоваться любая библиотека или API.

Приложение должно собираться при помощи Maven или Gradle.

Результатом сборки приложения должен быть war или ear архив, который может быть размещен на сервер приложений. Для отладки и демонстрации может использоваться любой сервер приложений.

К приложению должно прилагаться описание его API - структура запросов и ответов, список допустимых операций, можно это реализовать в виде проекта SoapUI.

# Описание проекта

В представленном проекте реализовано REST API, которое позволяет отслеживать почтовые отправления.

В системе регистрируются почтовые отправления - письма, посылки, открытки, бандероли - их передвижение между почтовыми отделениями, а также реализована возможность получения информации и всей истории передвижения конкретного почтового отправления.

    ● Регистрация почтового отправления
    
    ● Регистрация нового почтового отделения
  
    ● Прибытие почтового отправления в промежуточное почтовое отделение
  
    ● Убытие почтового отправления из почтового отделения
  
    ● Получение адресатом почтового отправления
  
    ● Просмотр статуса почтового отправление
    
    ● Просмотр полной истории движения почтового отправления
    
Сервис был реализован при помощи Spring, для хранения данных используется база данных H2, собирается приложение при помощи Gradle, так же в результате сборки генерируется .war архив, который потом развертывается на сервере приложений Tomcat.

В ходе проектирования базы данных были выделены следующие сущности:

    ● Mail
    
    ● Office
    
    ● History
    
Так же были построены следующие связи: 

    ● Однонаправленная многие-к-одному (History <- Mail; History <- Office)
    
    ● Однонаправленная многие-ко-многим (Office <-> Mail; )
    
Структуру API запросов и ответов, а так же список возможных запросов можно посмотреть по ссылке:

http://spring-dev.ru:8080/PostOffice/swagger-ui/index.html

Ниже приведено назначение всех запросов:
    
    ● POST /office - для создания нового почтового отделения
    
    ● GET /office/{index}/mails - для получения всех писем, хранящихся в почтовом отделении с индексом index
    
    ● GET /office/all - для просмотра всех существующих в системе почтовых отделений
    
    ● POST /mail - для создания нового почтового отправления
    
    ● PATCH /mail/{id}/changeStatus - для смены статуса у почтового отправления с идентификатором id
    
    ● GET /mail/{id}/status - для просмотра статуса почтового отправления с идентификатором id
    
    ● GET /mail/{id}/history - для просмотра всей истории передвижения почтового отправления с идентификатором id
    
    ● GET /mail/all - для просмотра всех существующих в системе почтовых отправлений

# Подготовительные действия

Для работы проекта на сервере приложений tomcat, на VPS сервере с операционной системой CentOS 7, были установлены: 

`jdk` 18-й версии;

`Apache tomcat server` версии 9.0.64, с оффициального сайта https://tomcat.apache.org/download-90.cgi;

# Информация о доступах

Для доступа на сервер приложений tomcat используются следующие данные:

`Логин:` tomcat 

`Пароль:` mypassword

Сервер Tomcat работает по ссылке: http://spring-dev:8080

# Описание запуска

Приложение работает по ссылке: http://spring-dev.ru:8080/PostOffice
